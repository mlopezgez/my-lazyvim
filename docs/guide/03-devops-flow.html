<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Flow & IaC | Vim Ninja Guide</title>
    <meta name="description" content="Master Terraform, Helm, Docker, and YAML workflows. Learn LSP features, AI-assisted IaC, and project navigation for infrastructure code.">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/guide.css">
</head>
<body class="guide-page">
    <!-- Skip to Content -->
    <a href="#main-content" class="skip-to-content">Skip to content</a>

    <!-- Global Navigation Header -->
    <header class="guide-header">
        <div class="header-content">
            <a href="index.html" class="guide-logo">
                <span>üí§</span> Vim Ninja Guide
            </a>

            <nav class="main-nav" id="main-nav">
                <a href="01-ai-mastery.html">AI Mastery</a>
                <a href="02-python-power.html">Python Power</a>
                <a href="03-devops-flow.html" class="active">DevOps Flow</a>
                <a href="04-navigation.html">Navigation</a>
                <a href="05-git-workflow.html">Git Workflow</a>
                <a href="06-advanced.html">Advanced</a>
            </nav>

            <button class="search-btn" id="search-trigger" aria-label="Search keybinds">
                <span>/</span> Search
            </button>

            <div class="progress-indicator">
                <span id="progress-text">0/6 Completed</span>
            </div>

            <button class="hamburger" id="hamburger" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Two-Column Layout -->
    <div class="lesson-container">
        <!-- Table of Contents Sidebar -->
        <aside class="toc-sidebar">
            <h3>Table of Contents</h3>
            <!-- Auto-generated by JavaScript -->
        </aside>

        <!-- Main Lesson Content -->
        <main class="lesson-content" id="main-content">
            <h1>‚öôÔ∏è DevOps Flow & Infrastructure as Code</h1>
            <p style="font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 3rem;">
                Master Terraform, Helm, Docker, and YAML workflows. Learn to navigate complex IaC projects,
                leverage LSP features, and use AI to accelerate infrastructure development.
            </p>

            <button class="mark-complete-btn" id="mark-complete">
                ‚úì Mark Lesson as Complete
            </button>

            <!-- Introduction -->
            <section id="introduction">
                <h2>Introduction</h2>
                <p>
                    This configuration includes LazyVim extras for comprehensive DevOps and Infrastructure as Code support.
                    You get full LSP integration for Terraform, YAML schema validation for Kubernetes, Helm templating support,
                    and Docker Compose intelligence.
                </p>

                <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px; margin: 2rem 0;">
                    <h3 style="color: var(--accent-blue); margin-bottom: 1rem;">Enabled LazyVim Extras</h3>
                    <ul style="color: var(--text-secondary);">
                        <li><strong style="color: var(--accent-green);">Terraform:</strong> LSP (terraformls), syntax highlighting, formatting</li>
                        <li><strong style="color: var(--accent-green);">YAML:</strong> Schema validation for Kubernetes, CI/CD configs</li>
                        <li><strong style="color: var(--accent-green);">Helm:</strong> Template navigation, values.yaml completion</li>
                        <li><strong style="color: var(--accent-green);">Docker:</strong> Dockerfile and docker-compose.yml support</li>
                    </ul>
                </div>

                <h3>What You'll Learn</h3>
                <ul>
                    <li>Terraform LSP features: auto-completion, documentation, navigation</li>
                    <li>Kubernetes YAML validation with schema awareness</li>
                    <li>Helm chart development with template references</li>
                    <li>Docker Compose service navigation</li>
                    <li>Project-wide IaC search and refactoring</li>
                    <li>AI-assisted infrastructure code generation</li>
                </ul>

                <div class="tip-box">
                    <div class="tip-header">
                        <span class="tip-icon">üí°</span>
                        <span>Why IaC in Neovim?</span>
                    </div>
                    <p>
                        Infrastructure code is just code. The same LSP features that power Python/Rust development
                        work for Terraform and YAML. Combined with powerful search and AI assistance, you can
                        manage complex infrastructure entirely from your editor.
                    </p>
                </div>
            </section>

            <!-- Terraform Workflows -->
            <section id="terraform">
                <h2>Terraform Workflows</h2>
                <p>
                    The terraformls language server provides auto-completion for resources, data sources, and
                    modules. Navigate large Terraform projects efficiently with LSP features.
                </p>

                <h3>LSP Features for Terraform</h3>
                <table class="keybind-table">
                    <thead>
                        <tr>
                            <th>Keybind</th>
                            <th>Description</th>
                            <th>Use Case</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><kbd>gd</kbd></td>
                            <td>Go to module/resource definition</td>
                            <td>Jump to module source, resource block</td>
                        </tr>
                        <tr>
                            <td><kbd>gr</kbd></td>
                            <td>Find references</td>
                            <td>Find all uses of a variable or output</td>
                        </tr>
                        <tr>
                            <td><kbd>K</kbd></td>
                            <td>Hover documentation</td>
                            <td>See provider docs inline (AWS, Azure, GCP)</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sg</kbd></td>
                            <td>Grep in project</td>
                            <td>Find all uses of "aws_instance" across modules</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sw</kbd></td>
                            <td>Grep word under cursor</td>
                            <td>Find all references to current resource</td>
                        </tr>
                    </tbody>
                </table>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üéØ</span>
                        <h4>Practice Exercise: Navigate Terraform Module</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Objective:</strong> Use LSP to navigate a multi-file Terraform project.</p>
                        <ol>
                            <li>Open a Terraform project with modules</li>
                            <li>In main.tf, cursor on a <code>module</code> block</li>
                            <li>Jump to module definition: <kbd>gd</kbd></li>
                            <li>In the module, cursor on a variable</li>
                            <li>Find all references: <kbd>gr</kbd></li>
                            <li>See where this variable is used across files</li>
                            <li>Cursor on a resource (e.g., aws_instance)</li>
                            <li>View AWS documentation: <kbd>K</kbd></li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> You can navigate between modules and see inline docs.</p>
                    </div>
                </div>

                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 1: Find All Resource Uses</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Need to find all AWS S3 buckets in project</li>
                            <li>Grep for resource type: <kbd>&lt;leader&gt;sg</kbd></li>
                            <li>Type: <code>aws_s3_bucket</code></li>
                            <li>Picker shows all matches across files</li>
                            <li>Navigate through results with <kbd>‚Üë</kbd>/<kbd>‚Üì</kbd></li>
                            <li>Press <kbd>Enter</kbd> to jump to selected file</li>
                        </ol>
                    </div>
                    <div class="pattern-tips">
                        <strong>üí° Tip:</strong> Use <kbd>&lt;leader&gt;sq</kbd> to send results to quickfix for batch operations.
                    </div>
                </div>

                <h3>Terraform with Claude AI</h3>
                <p>
                    Claude can generate Terraform modules, suggest best practices, and review your infrastructure code.
                </p>

                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 2: Generate Terraform Module with Claude</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Create empty module files: <code>main.tf</code>, <code>variables.tf</code>, <code>outputs.tf</code></li>
                            <li>Toggle Claude: <kbd>&lt;leader&gt;ac</kbd></li>
                            <li>Ask: "Create a Terraform module for an AWS VPC with private and public subnets. Include variables for CIDR blocks."</li>
                            <li>Claude generates module structure</li>
                            <li>Review the code, ask follow-ups if needed</li>
                            <li>Copy and paste or use diff acceptance</li>
                            <li>Validate: <code>terraform validate</code> in terminal (<kbd>&lt;c-/&gt;</kbd>)</li>
                        </ol>
                    </div>
                </div>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üéØ</span>
                        <h4>Practice Exercise: Terraform Variable Refactoring</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Objective:</strong> Use search to refactor a hardcoded value into a variable.</p>
                        <ol>
                            <li>Find a hardcoded value in main.tf (e.g., <code>"us-east-1"</code>)</li>
                            <li>Search all occurrences: <kbd>&lt;leader&gt;sg</kbd> ‚Üí type the value</li>
                            <li>See how many places it appears</li>
                            <li>Add variable to variables.tf:
<pre><code>variable "region" {
  default = "us-east-1"
}</code></pre>
                            </li>
                            <li>Replace occurrences with <code>var.region</code></li>
                            <li>Use <kbd>gr</kbd> to verify all references</li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> All hardcoded values are now variables.</p>
                    </div>
                </div>
            </section>

            <!-- YAML & Kubernetes -->
            <section id="yaml-kubernetes">
                <h2>YAML & Kubernetes Workflows</h2>
                <p>
                    The yamlls language server provides schema validation for Kubernetes manifests. This means
                    auto-completion for resource types, field validation, and inline documentation.
                </p>

                <h3>Kubernetes Manifest Features</h3>
                <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                    <h4 style="color: var(--accent-green); margin-bottom: 1rem;">What yamlls Provides</h4>
                    <ul style="color: var(--text-secondary);">
                        <li><strong>Schema Validation:</strong> Catch typos in resource kinds (Deploymant vs Deployment)</li>
                        <li><strong>Field Completion:</strong> Auto-complete metadata.labels, spec.containers, etc.</li>
                        <li><strong>Type Checking:</strong> Validate that ports are numbers, replicas are integers</li>
                        <li><strong>Documentation:</strong> Hover on fields to see Kubernetes API docs</li>
                    </ul>
                </div>

                <table class="keybind-table">
                    <thead>
                        <tr>
                            <th>Keybind</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><kbd>K</kbd></td>
                            <td>Hover documentation for K8s fields</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sd</kbd></td>
                            <td>View all YAML validation errors</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sg</kbd></td>
                            <td>Search for resource kinds</td>
                        </tr>
                    </tbody>
                </table>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üéØ</span>
                        <h4>Practice Exercise: Create K8s Deployment</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Objective:</strong> Use yamlls validation to create a correct Deployment.</p>
                        <ol>
                            <li>Create deployment.yaml</li>
                            <li>Start typing:
<pre><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx
spec:
  # Press Ctrl+Space for completion
  replicas: 3
  selector:
    # yamlls suggests matchLabels
    matchLabels:
      app: nginx</code></pre>
                            </li>
                            <li>yamlls provides completions at each level</li>
                            <li>Hover on <code>replicas</code>: <kbd>K</kbd> ‚Üí see API docs</li>
                            <li>Intentionally make a typo: <code>kind: Deploymant</code></li>
                            <li>yamlls shows error: "Unknown resource kind"</li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> Valid Kubernetes manifest with no schema errors.</p>
                    </div>
                </div>

                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 3: Generate K8s Manifests with Claude</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Toggle Claude: <kbd>&lt;leader&gt;ac</kbd></li>
                            <li>Ask: "Create a Kubernetes Deployment for a Python FastAPI app with 3 replicas, liveness probe, and resource limits"</li>
                            <li>Claude generates complete manifest</li>
                            <li>Paste into deployment.yaml</li>
                            <li>yamlls validates schema automatically</li>
                            <li>Fix any validation errors highlighted by yamlls</li>
                            <li>Apply: <code>kubectl apply -f deployment.yaml</code></li>
                        </ol>
                    </div>
                    <div class="pattern-tips">
                        <strong>üí° Best Practice:</strong> Always validate with yamlls before applying to cluster.
                    </div>
                </div>
            </section>

            <!-- Helm Charts -->
            <section id="helm">
                <h2>Helm Chart Development</h2>
                <p>
                    Helm charts are templates with Go templating. This configuration provides navigation between
                    values.yaml and template files, plus schema validation.
                </p>

                <h3>Helm Workflow</h3>
                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 4: Helm Template Navigation</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Open a Helm chart directory</li>
                            <li>Edit values.yaml: add <code>replicaCount: 3</code></li>
                            <li>Navigate to templates/deployment.yaml</li>
                            <li>Use template: <code>{{ .Values.replicaCount }}</code></li>
                            <li>Find all value references: <kbd>&lt;leader&gt;sg</kbd> ‚Üí search <code>replicaCount</code></li>
                            <li>See where this value is used across templates</li>
                            <li>Test rendering: <code>helm template .</code> in terminal (<kbd>&lt;c-/&gt;</kbd>)</li>
                        </ol>
                    </div>
                </div>

                <div class="tip-box">
                    <div class="tip-header">
                        <span class="tip-icon">üí°</span>
                        <span>Helm LSP Features</span>
                    </div>
                    <p>
                        While Go templates don't have full LSP support, you can:
                    </p>
                    <ul>
                        <li>Use <kbd>&lt;leader&gt;sg</kbd> to search for <code>.Values.X</code> references</li>
                        <li>Navigate with <kbd>&lt;leader&gt;ff</kbd> between values.yaml and templates</li>
                        <li>Validate rendered output with <code>helm template</code></li>
                    </ul>
                </div>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üéØ</span>
                        <h4>Practice Exercise: Create Helm Chart Value</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Objective:</strong> Add a new value and use it in templates.</p>
                        <ol>
                            <li>In values.yaml, add:
<pre><code>image:
  repository: nginx
  tag: "1.21"</code></pre>
                            </li>
                            <li>In templates/deployment.yaml, use:
<pre><code>image: {{ .Values.image.repository }}:{{ .Values.image.tag }}</code></pre>
                            </li>
                            <li>Search for all image references: <kbd>&lt;leader&gt;sg</kbd> ‚Üí <code>image</code></li>
                            <li>Test: <code>helm template mychart .</code></li>
                            <li>Verify rendered output shows <code>nginx:1.21</code></li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> Helm templates correctly reference values.yaml.</p>
                    </div>
                </div>
            </section>

            <!-- Docker Compose -->
            <section id="docker">
                <h2>Docker Compose Workflows</h2>
                <p>
                    The docker-compose-language-service provides auto-completion for service definitions,
                    volume mounts, and network configurations.
                </p>

                <h3>Compose Features</h3>
                <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                    <h4 style="color: var(--accent-blue); margin-bottom: 1rem;">LSP Support</h4>
                    <ul style="color: var(--text-secondary);">
                        <li><strong>Service Completion:</strong> Auto-complete service names when defining depends_on</li>
                        <li><strong>Volume Validation:</strong> Verify volume references exist</li>
                        <li><strong>Network References:</strong> Validate network names</li>
                        <li><strong>Port Syntax:</strong> Catch port mapping errors</li>
                    </ul>
                </div>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üéØ</span>
                        <h4>Practice Exercise: Multi-Service Compose</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Objective:</strong> Create a docker-compose.yml with service dependencies.</p>
                        <ol>
                            <li>Create docker-compose.yml:
<pre><code>version: '3.8'
services:
  db:
    image: postgres:14
    volumes:
      - postgres_data:/var/lib/postgresql/data

  app:
    build: .
    depends_on:
      - db  # LSP validates this service exists
    ports:
      - "8000:8000"

volumes:
  postgres_data:</code></pre>
                            </li>
                            <li>When typing <code>depends_on</code>, get service name completion</li>
                            <li>Typo check: type <code>depends_on: [notexist]</code> ‚Üí LSP error</li>
                            <li>Test: <code>docker-compose config</code> in terminal</li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> Compose file is valid with correct service refs.</p>
                    </div>
                </div>
            </section>

            <!-- Snacks Pickers for IaC -->
            <section id="navigation">
                <h2>Project Navigation for IaC</h2>
                <p>
                    Large infrastructure projects span dozens of files. Use Snacks pickers to navigate efficiently.
                </p>

                <table class="keybind-table">
                    <thead>
                        <tr>
                            <th>Keybind</th>
                            <th>Description</th>
                            <th>IaC Use Case</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><kbd>&lt;leader&gt;ff</kbd></td>
                            <td>Find files</td>
                            <td>Jump to any .tf, .yaml, or Dockerfile</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sg</kbd></td>
                            <td>Grep project</td>
                            <td>Find all aws_instance resources</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;sw</kbd></td>
                            <td>Grep word under cursor</td>
                            <td>Find all uses of a Terraform variable</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;e</kbd></td>
                            <td>File explorer</td>
                            <td>Browse module structure visually</td>
                        </tr>
                        <tr>
                            <td><kbd>&lt;leader&gt;gs</kbd></td>
                            <td>Git status</td>
                            <td>Review changed IaC files before commit</td>
                        </tr>
                    </tbody>
                </table>

                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 5: IaC Code Review</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Make changes to Terraform modules</li>
                            <li>View changed files: <kbd>&lt;leader&gt;gs</kbd></li>
                            <li>Open each changed file from picker</li>
                            <li>Review diffs: <kbd>&lt;leader&gt;gd</kbd></li>
                            <li>Search for related resources: <kbd>&lt;leader&gt;sg</kbd></li>
                            <li>Toggle Claude: <kbd>&lt;leader&gt;ac</kbd></li>
                            <li>Ask: "Review these Terraform changes for security and best practices"</li>
                            <li>Address issues, then commit</li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- AI-Assisted IaC -->
            <section id="ai-iac">
                <h2>AI-Assisted Infrastructure Code</h2>
                <p>
                    Claude excels at generating infrastructure code. Use it to create modules, manifests, and configs.
                </p>

                <div class="workflow-pattern">
                    <div class="pattern-header">
                        <span class="pattern-icon">‚ö°</span>
                        <h4>Pattern 6: Claude for IaC Generation</h4>
                    </div>
                    <div class="pattern-steps">
                        <ol>
                            <li>Toggle Claude: <kbd>&lt;leader&gt;ac</kbd></li>
                            <li>Provide context: "I need a Terraform module for AWS ECS Fargate"</li>
                            <li>Ask: "Create main.tf with ECS cluster, task definition, and service. Include variables for container image and port."</li>
                            <li>Claude generates complete module</li>
                            <li>Review and copy to files</li>
                            <li>Validate: <code>terraform validate</code></li>
                            <li>Plan: <code>terraform plan</code> in terminal</li>
                        </ol>
                    </div>
                </div>

                <div class="tip-box">
                    <div class="tip-header">
                        <span class="tip-icon">üí°</span>
                        <span>Effective IaC Prompts</span>
                    </div>
                    <p><strong>Good prompts include:</strong></p>
                    <ul>
                        <li>Cloud provider: "AWS", "Azure", "GCP"</li>
                        <li>Resource types: "ECS Fargate", "GKE cluster", "Lambda function"</li>
                        <li>Constraints: "Must be in private subnet", "Use existing VPC"</li>
                        <li>Best practices: "Follow AWS Well-Architected Framework"</li>
                    </ul>
                </div>
            </section>

            <!-- Troubleshooting -->
            <section id="troubleshooting">
                <h2>Troubleshooting</h2>

                <div style="display: grid; gap: 1.5rem;">
                    <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: var(--accent-peach);">LSP not providing completions?</h4>
                        <ul style="color: var(--text-secondary);">
                            <li>Check LSP status: <code>:LspInfo</code></li>
                            <li>Ensure correct file extension: .tf, .yaml, .yml</li>
                            <li>Restart LSP: <code>:LspRestart</code></li>
                            <li>For K8s YAML, ensure schema is detected (check status line)</li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: var(--accent-peach);">Terraform validation errors?</h4>
                        <ul style="color: var(--text-secondary);">
                            <li>Run <code>terraform init</code> in project root</li>
                            <li>Check provider versions in terraform.tf</li>
                            <li>Validate syntax: <code>terraform validate</code></li>
                            <li>Format files: <code>terraform fmt</code></li>
                        </ul>
                    </div>

                    <div style="background: var(--bg-card); padding: 1.5rem; border-radius: 8px;">
                        <h4 style="color: var(--accent-peach);">YAML schema not working?</h4>
                        <ul style="color: var(--text-secondary);">
                            <li>Add schema comment at top: <code># yaml-language-server: $schema=https://json.schemastore.org/kustomization.json</code></li>
                            <li>Check yamlls is installed: <code>:Mason</code></li>
                            <li>Restart: <code>:LspRestart yamlls</code></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Challenge Exercises -->
            <section id="challenges">
                <h2>Challenge Exercises</h2>

                <div class="practice-exercise" style="margin-bottom: 2rem;">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèÜ</span>
                        <h4>Challenge 1: Complete Terraform Stack</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Task:</strong> Create a multi-module Terraform project with Claude's help.</p>
                        <ol>
                            <li>Structure: modules/vpc, modules/app, main.tf</li>
                            <li>Use Claude to generate VPC module (2 subnets, NAT gateway)</li>
                            <li>Generate app module (EC2 instances in private subnets)</li>
                            <li>Wire modules together in main.tf</li>
                            <li>Use <kbd>gd</kbd> to navigate between module calls and definitions</li>
                            <li>Use <kbd>&lt;leader&gt;sg</kbd> to find all output references</li>
                            <li>Validate: <code>terraform validate</code></li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> Complete, valid Terraform stack ready to deploy.</p>
                    </div>
                </div>

                <div class="practice-exercise" style="margin-bottom: 2rem;">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèÜ</span>
                        <h4>Challenge 2: Kubernetes App Deployment</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Task:</strong> Create complete K8s manifests for a 3-tier app.</p>
                        <ol>
                            <li>Use Claude to generate:
                                <ul>
                                    <li>Deployment for web tier (Nginx)</li>
                                    <li>Deployment for app tier (Python API)</li>
                                    <li>StatefulSet for database tier (PostgreSQL)</li>
                                    <li>Services for each tier</li>
                                    <li>ConfigMap for app config</li>
                                    <li>Secret for DB credentials</li>
                                </ul>
                            </li>
                            <li>Use yamlls to validate all manifests</li>
                            <li>Use <kbd>&lt;leader&gt;sg</kbd> to find label references</li>
                            <li>Verify: <code>kubectl apply --dry-run=client -f .</code></li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> Valid K8s manifests with no schema errors.</p>
                    </div>
                </div>

                <div class="practice-exercise">
                    <div class="exercise-header">
                        <span class="exercise-icon">üèÜ</span>
                        <h4>Challenge 3: IaC Refactoring</h4>
                    </div>
                    <div class="exercise-content">
                        <p><strong>Task:</strong> Refactor hardcoded values across multiple IaC files.</p>
                        <ol>
                            <li>Find a project with hardcoded values (regions, instance types, etc.)</li>
                            <li>Use <kbd>&lt;leader&gt;sg</kbd> to find all occurrences</li>
                            <li>Create variables.tf or values.yaml</li>
                            <li>Use Claude: "Help me refactor these hardcoded values into variables"</li>
                            <li>Apply refactoring</li>
                            <li>Use <kbd>gr</kbd> to verify all references point to variables</li>
                            <li>Test: terraform plan or helm template shows correct values</li>
                        </ol>
                        <p class="success-criteria"><strong>‚úì Success:</strong> No hardcoded values, all parameterized.</p>
                    </div>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="lesson-nav">
                <a href="02-python-power.html" class="nav-btn prev">
                    ‚Üê Previous: Python Power
                </a>
                <a href="index.html" class="nav-btn next">
                    Back to Guide Index ‚Üí
                </a>
            </nav>
        </main>
    </div>

    <!-- Search Modal -->
    <div class="search-modal" id="search-modal">
        <div class="search-container">
            <div class="search-input-container">
                <input type="text" class="search-input" id="search-input" placeholder="Search keybinds..." autocomplete="off">
            </div>
            <div class="search-results" id="search-results">
                <p style="color: var(--text-muted); text-align: center; padding: 2rem;">Type to search...</p>
            </div>
            <div class="search-footer">
                <div>
                    <kbd style="background: var(--bg-primary); padding: 0.25rem 0.5rem; border-radius: 4px;">‚Üë‚Üì</kbd> Navigate
                    <kbd style="background: var(--bg-primary); padding: 0.25rem 0.5rem; border-radius: 4px; margin-left: 0.5rem;">Enter</kbd> Go
                </div>
                <div>
                    <kbd style="background: var(--bg-primary); padding: 0.25rem 0.5rem; border-radius: 4px;">Esc</kbd> Close
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/script.js"></script>
    <script src="../assets/js/progress.js"></script>
    <script src="../assets/js/search.js"></script>
    <script src="../assets/js/guide-nav.js"></script>
    <script>
        // Mark complete button handler
        document.addEventListener('DOMContentLoaded', function() {
            const markCompleteBtn = document.getElementById('mark-complete');
            if (markCompleteBtn) {
                const progress = getProgress();
                if (progress && progress.lessons['03'] && progress.lessons['03'].completed) {
                    markCompleteBtn.classList.add('completed');
                    markCompleteBtn.innerHTML = '‚úì Lesson Completed';
                }

                markCompleteBtn.addEventListener('click', function() {
                    const isCompleted = this.classList.contains('completed');
                    markLessonComplete('03', !isCompleted);

                    if (!isCompleted) {
                        this.classList.add('completed');
                        this.innerHTML = '‚úì Lesson Completed';
                    } else {
                        this.classList.remove('completed');
                        this.innerHTML = '‚úì Mark Lesson as Complete';
                    }
                });
            }
        });
    </script>
</body>
</html>
